@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-bg-primary: 255 255 255;
    --color-bg-secondary: 249 250 251;
    --color-text-primary: 17 24 39;
    --color-text-secondary: 75 85 99;
    --color-border: 229 231 235;
    --color-accent: 99 102 241;
  }

  .dark {
    --color-bg-primary: 15 23 42;
    --color-bg-secondary: 30 41 59;
    --color-text-primary: 248 250 252;
    --color-text-secondary: 148 163 184;
    --color-border: 51 65 85;
    --color-accent: 129 140 248;
  }

  body {
    @apply bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-50 transition-colors duration-300;
    font-feature-settings: "kern" 1, "liga" 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    @apply border-gray-200 dark:border-slate-700;
  }

  /* Enhanced Typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold;
    letter-spacing: -0.025em;
  }

  h1 {
    @apply text-5xl md:text-6xl;
    line-height: 1.1;
  }

  h2 {
    @apply text-4xl md:text-5xl;
    line-height: 1.2;
  }

  h3 {
    @apply text-2xl md:text-3xl;
    line-height: 1.3;
  }
}

@layer utilities {
  /* Smooth Scrolling */
  .scroll-smooth {
    scroll-behavior: smooth;
  }

  /* Enhanced Scrollbars */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--color-border)) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
    border-radius: 10px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgba(var(--color-border), 0.8);
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgba(var(--color-text-secondary), 0.8);
    background-clip: padding-box;
  }

  /* Glass Morphism Effects */
  .glass {
    @apply bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl;
  }

  .glass-card {
    @apply bg-white/80 dark:bg-slate-800/80 backdrop-blur-lg border border-gray-200/50 dark:border-slate-700/50;
  }

  /* Elegant Transitions */
  .transition-elegant {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Hover Lift Effect */
  .hover-lift {
    @apply transition-elegant hover:-translate-y-1 hover:shadow-lift;
  }

  /* Scale Animations */
  .hover-scale {
    @apply transition-transform duration-300 hover:scale-105;
  }

  .hover-scale-sm {
    @apply transition-transform duration-300 hover:scale-102;
  }
}

/* Code block styling */
.prose pre {
  @apply relative bg-gray-900 dark:bg-gray-950 rounded-lg my-6 overflow-hidden;
  padding: 0 !important;
}

.prose pre code {
  @apply block overflow-x-auto p-4 text-sm leading-relaxed;
  background: transparent !important;
}

.prose code {
  @apply px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-800 text-brand-600 dark:text-brand-400 text-sm font-mono;
  font-weight: 500 !important;
}

.prose pre code {
  @apply p-0 bg-transparent text-gray-100;
}

/* Code block language label */
.code-block-wrapper {
  @apply relative;
}

.code-language {
  @apply absolute top-0 right-0 px-3 py-1 text-xs font-mono text-gray-400 bg-gray-800 rounded-bl-lg;
}

/* Copy button */
.copy-button {
  @apply absolute top-2 right-2 p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white transition-colors opacity-0 group-hover:opacity-100;
}

/* Heading anchors */
.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  @apply scroll-mt-24 relative;
}

.prose .heading-anchor {
  @apply absolute -left-6 opacity-0 text-brand-500 hover:text-brand-600 transition-opacity;
  text-decoration: none;
}

.prose h1:hover .heading-anchor,
.prose h2:hover .heading-anchor,
.prose h3:hover .heading-anchor,
.prose h4:hover .heading-anchor {
  @apply opacity-100;
}

/* Blockquotes */
.prose blockquote {
  @apply border-l-4 border-brand-500 bg-brand-50 dark:bg-brand-950/20 rounded-r-lg my-6;
}

.prose blockquote p {
  @apply text-gray-700 dark:text-gray-300;
}

/* Tables */
.prose table {
  @apply w-full my-6 border-collapse;
}

.prose thead {
  @apply bg-gray-50 dark:bg-gray-800;
}

.prose th {
  @apply px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100 border-b-2 border-gray-200 dark:border-gray-700;
}

.prose td {
  @apply px-4 py-3 text-sm text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700;
}

.prose tbody tr:hover {
  @apply bg-gray-50 dark:bg-gray-800/50;
}

/* Links */
.prose a {
  @apply text-brand-600 dark:text-brand-400 hover:text-brand-700 dark:hover:text-brand-300 no-underline hover:underline transition-colors;
}

/* Images */
.prose img {
  @apply rounded-lg shadow-lg my-6;
}

/* Lists */
.prose ul,
.prose ol {
  @apply my-6 space-y-2;
}

.prose li {
  @apply text-gray-700 dark:text-gray-300;
}

/* Inline code in lists and other elements */
.prose :where(li, p, blockquote) code {
  @apply text-sm;
}

/* Horizontal rule */
.prose hr {
  @apply my-8 border-gray-200 dark:border-gray-700;
}

/* Highlight.js theme overrides */
.hljs {
  @apply bg-gray-900 dark:bg-gray-950 text-gray-100;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-built_in {
  @apply text-purple-400;
}

.hljs-string,
.hljs-attr {
  @apply text-green-400;
}

.hljs-number,
.hljs-literal {
  @apply text-orange-400;
}

.hljs-comment {
  @apply text-gray-500 italic;
}

.hljs-function,
.hljs-title {
  @apply text-blue-400;
}

.hljs-variable,
.hljs-params {
  @apply text-red-400;
}
